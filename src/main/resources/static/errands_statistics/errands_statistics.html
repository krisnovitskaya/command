<div>
<!--    <script>-->
<!--         $(document).ready(function(){-->
<!--                var date_input=$('input[name="datepicker"]');-->
<!--                var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";-->
<!--                var options={-->
<!--                format: 'dd-mm-yyyy',-->
<!--                container: container,-->
<!--                todayHighlight: true,-->
<!--                autoclose: true,-->
<!--                daysOfWeekDisabled: "0",-->
<!--                daysOfWeekHighlighted: "0",-->
<!--                language: "ru",-->
<!--                locale: "ru",-->
<!--            };-->
<!--                date_input.datepicker(options);-->
<!--            });-->
<!--    </script>-->

    <h3>Статистика командировок</h3>


    <div class="column_box">
        <h4 class="btn btn-dark extremum-click" style="width: 100px;" href="">Фильтр ↓</h4>
        <h4 class="btn btn-warning" ng-click="fillTable()" style="width: 100px;" href="">Обновить</h4>
        <div class="extremum-slide">

            <form autocomplete="off" style="width: 600px;" novalidate ng-submit="fillTable()">

                <div class="input-group mb-3">
                    <span class="input-group-text">Подразделение</span>
                    <select id="department" class="form-control filter_box" ng-model="filter.department"
                            ng-change="getEmployees(filter.department)">
                        <option value="" selected></option>
                        <option ng-repeat="department in Departments" ng-value="{{department.id}}">{{department.title}}</option>
                    </select>
                </div>

                <div ng-if="(Employees.length != 0) && (Employees != null)" class="input-group mb-3">
                    <span class="input-group-text">ФИО сотрудника</span>
                    <select id="employee" class="form-control filter_box" ng-model="filter.employee">
                        <option value="" selected></option>
                        <option ng-repeat="employee in Employees" ng-value="{{employee.id}}">{{employee.fio}}
                        </option>
                    </select>
                </div>

                <div class="input-group mb-3">
                    <span class="input-group-text">Тип</span>
                    <select id="matterType" class="form-control filter_box" ng-model="filter.errandMatterType">
                        <option value=""></option>
                        <option ng-repeat="errandMatterType in Matters" ng-value="{{errandMatterType.id}}">
                            {{errandMatterType.matter}}
                        </option>
                    </select>
                </div>

                <div class="input-group mb-3">
                    <span class="input-group-text">Статус</span>
                    <select id="statusType" class="form-control filter_box" ng-model="filter.errandStatusType">
                        <option value=""></option>
                        <option ng-repeat="errandStatusType in Statuses" ng-value="{{errandStatusType.id}}">
                            {{errandStatusType.status}}
                        </option>
                    </select>
                </div>

                <div class="input-group mb-3">
                    <span class="input-group-text">Тип места назначения</span>
                    <select id="placeType" class="form-control filter_box" ng-model="filter.placeType"
                            ng-change="getPlaces(filter.placeType)">
                        <option value=""></option>
                        <option ng-repeat="placeType in PlaceTypes" ng-value="{{placeType.id}}">
                            {{placeType.type}}
                        </option>
                    </select>
                </div>

                <div ng-if="(Places.length != 0) && (Places != null)" class="input-group mb-3">
                    <span class="input-group-text">Место назначения</span>
                    <select id="place" class="form-control filter_box" ng-model="filter.place">
                        <option value=""></option>
                        <option ng-repeat="place in Places" ng-value="{{place.id}}">
                            {{place.title}}
                        </option>
                    </select>
                </div>

                <div class="input-group mb-3">
                    <span class="input-group-text">с</span>
                    <input class="form-control filter_box" style="margin-right: 10px;" type="date"
                           ng-model="filter.dateStart">

                    <span class="input-group-text" id="basic-addon2">по</span>
                    <input class="form-control filter_box" type="date" ng-model="filter.dateEnd">
                </div>

                <input class="btn btn-warning" type="submit" value="Найти">

            </form>
            </p>
        </div>

        <table class="table table-hover" cellpadding="0" cellspacing="0">
            <tr>
                <td>Тип</td>
                <td>Cтатус</td>
                <td>Департамент</td>
                <td>Сотрудник</td>
                <td>Тип места</td>
                <td>Место</td>
                <td>Дата начала</td>
                <td>Дата завершения</td>
            </tr>
            <tbody>

            <tr ng-repeat="e in Errands">
                <td>{{e.matter}}</td>
                <td>{{e.status}}</td>
                <td>{{e.department}}</td>
                <td>{{e.employee}}</td>
                <td>{{e.placeType}}</td>
                <td>{{e.place}}</td>
                <td>{{e.dateStart}}</td>
                <td>{{e.dateEnd}}</td>
            </tr>
            </tbody>
        </table>

<!--        <nav aria-label="Page navigation">-->
<!--            <ul class="pagination">-->
<!--                <li class="page-item" ng-repeat="pageIndex in PaginationArray">-->
<!--                    <a class="page-link" ng-click="fillTable(pageIndex)">{{pageIndex}}</a>-->
<!--                </li>-->
<!--            </ul>-->
<!--        </nav>-->
    </div>

</div>
</div>
